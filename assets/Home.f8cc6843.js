import{h as a,a as e,r as s,t}from"./index.0d2544aa.js";import{p as l,m as c,o as i,c as r,a as d,u as n,e as o,F as g,x as h,q as u,r as p}from"./vendor.5da5a4f4.js";const y=u();l("data-v-3146dfd2");const f={id:"home"},m={class:"row"},T=d("h3",null,"目前篩選 ( 按下esc能快清除篩選 )",-1),k={class:"tags"},v={key:0,class:"tag"},S=d("span",null,"全部",-1),b={key:1,class:"tag"},C=d("span",null,"清除全部",-1),w={class:"line"},O={class:"row"},_=d("h3",null,"種族",-1),J={class:"tags"},N={class:"row"},H=d("h3",null,"兵種",-1),x={class:"tags"},j={class:"row"},B=d("h3",null,"其他標籤",-1),D={class:"tags"},q={class:"row"};c();const E=y(((a,e,s,t,l,c)=>{const u=p("tag"),E=p("heroCard");return i(),r("div",f,[d("div",m,[d(n,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:y((()=>[T,d("div",k,[0==l.selectTags.length?(i(),r("div",v,[d(o,{rounded:"pill",disabled:""},{default:y((()=>[S])),_:1})])):(i(),r("div",b,[d(o,{rounded:"pill",onClick:e[1]||(e[1]=a=>c.clearSelectTag())},{default:y((()=>[C])),_:1})])),(i(!0),r(g,null,h(l.selectTags,((a,e)=>(i(),r(u,{data:a,key:a.title,onClick:s=>c.tagSelectBack(a,e)},null,8,["data","onClick"])))),128))])])),_:1})]),d("div",w,[d("div",O,[d(n,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:y((()=>[_,d("div",J,[(i(!0),r(g,null,h(l.race,((a,e)=>(i(),r(u,{data:a,key:a.title,onClick:e=>c.selectTag(l.race,a)},null,8,["data","onClick"])))),128))])])),_:1})]),d("div",N,[d(n,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:y((()=>[H,d("div",x,[(i(!0),r(g,null,h(l.armyType,((a,e)=>(i(),r(u,{data:a,key:a.title,onClick:e=>c.selectTag(l.armyType,a)},null,8,["data","onClick"])))),128))])])),_:1})])]),d("div",j,[d(n,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:y((()=>[B,d("div",D,[(i(!0),r(g,null,h(l.tag,(a=>(i(),r(u,{data:a,onClick:e=>c.selectTag(l.tag,a)},null,8,["data","onClick"])))),256))])])),_:1})]),d("div",q,[d(n,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:y((()=>[(i(!0),r(g,null,h(l.selectHeros,(a=>(i(),r(E,{data:a},null,8,["data"])))),256))])),_:1})])])}));const F={data:()=>({heros:[],selectHeros:[],armyType:[],race:[],tag:[],selectTags:[]}),methods:{getData(){if(0==this.selectTags.length)this.selectHeros=this.heros;else{let e=a;this.selectTags.map((a=>{let s=[];e.map((t=>{if("tag"==a.type){if(t.tag.includes(a.title)){s.find((a=>t==a))||s.push(t)}}else if(a.title==t[a.type]){s.find((a=>t==a))||s.push(t)}e=s}))})),this.selectHeros=e}},selectTag(a,e){this.selectTags.push(e),a.find((a=>e==a))&&a.splice(a.indexOf(e),1)},tagSelectBack(a,e){switch(a.type){case"armyType":this.armyType.push(a);break;case"race":this.race.push(a);break;case"tag":this.tag.push(a)}this.selectTags.splice(e,1)},clearSelectTag(){this.selectTags.map((a=>{switch(a.type){case"armyType":this.armyType.push(a);break;case"race":this.race.push(a);break;case"tag":this.tag.push(a)}})),this.selectTags=[]}},mounted(){this.heros=JSON.parse(JSON.stringify(a)),this.armyType=JSON.parse(JSON.stringify(e)),this.race=JSON.parse(JSON.stringify(s)),this.tag=JSON.parse(JSON.stringify(t)),this.selectHeros=this.heros;let l=this;document.onkeydown=function(a){"Escape"==a.key&&l.clearSelectTag()}},watch:{selectTags:{handler:function(){this.getData()},deep:!0}}};F.render=E,F.__scopeId="data-v-3146dfd2";export{F as default};
