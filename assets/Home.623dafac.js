var e=Object.defineProperty,l=Object.defineProperties,a=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(l,a,t)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,n=(e,l)=>{for(var a in l||(l={}))o.call(l,a)&&i(e,a,l[a]);if(t)for(var a of t(l))s.call(l,a)&&i(e,a,l[a]);return e};import{h as r}from"./index.e3cebc9f.js";import{h as u}from"./heroTagList.f74b11b6.js";import{a as c,r as d}from"./index.eae7ac6e.js";import{z as v,A as p,B as f,C as h,D as m,E as y,G as g,a as b,H as S,I as T,J as w,K as C,R as V,L as k,M as B,N as x,O as _,P as O,Q as U,S as I,T as F,U as j,W as J,X as N,Y as H,Z as A,_ as D,$ as E,p as P,m as z,o as L,c as $,x as M,e as R,F as G,n as K,u as Q,r as W}from"./vendor.0d840192.js";const X=Symbol.for("vuetify:selection-control-group");v({name:"VSelectionControlGroup",props:{disabled:Boolean,id:String,inline:Boolean,name:String,offIcon:String,onIcon:String,multiple:{type:Boolean,default:null},readonly:Boolean,type:String,modelValue:null},emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:a}=l;const t=p(e,"modelValue"),o=f(),s=h((()=>e.id||`v-selection-control-group-${o}`)),i=h((()=>e.name||s.value));return m(X,{disabled:y(e,"disabled"),inline:y(e,"inline"),modelValue:t,multiple:h((()=>!!e.multiple||null==e.multiple&&Array.isArray(t.value))),name:i,offIcon:y(e,"offIcon"),onIcon:y(e,"onIcon"),readonly:y(e,"readonly"),type:y(e,"type")}),g((()=>{var l;return b("div",{class:"v-selection-control-group","aria-labelled-by":"radio"===e.type?s.value:void 0,role:"radio"===e.type?"radiogroup":void 0},[null==a||null==(l=a.default)?void 0:l.call(a)],8,["aria-labelled-by","role"])})),{}}});const Y=n(n({color:String,disabled:Boolean,error:Boolean,id:String,inline:Boolean,label:String,offIcon:String,onIcon:String,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,trueValue:null,falseValue:null,modelValue:null,type:String,value:null,valueComparator:{type:Function,default:S}},T()),w());const Z=C()({name:"VSelectionControl",directives:{Ripple:V},inheritAttrs:!1,props:Y,emits:{"update:modelValue":e=>!0},setup(e,l){let{attrs:a,slots:t}=l;const{densityClasses:o,group:s,icon:i,model:n,textColorClasses:r,textColorStyles:u,trueValue:c}=function(e){const l=F(X,void 0),{densityClasses:a}=j(e,"v-selection-control"),t=p(e,"modelValue"),o=h((()=>void 0!==e.trueValue?e.trueValue:void 0===e.value||e.value)),s=h((()=>void 0!==e.falseValue&&e.falseValue)),i=h((()=>(null==l?void 0:l.multiple.value)||!!e.multiple||null==e.multiple&&Array.isArray(t.value))),n=h({get(){const a=l?l.modelValue.value:t.value;return i.value?a.some((l=>e.valueComparator(l,o.value))):e.valueComparator(a,o.value)},set(a){const n=a?o.value:s.value;let r=n;i.value&&(r=a?[...J(t.value),n]:J(t.value).filter((l=>!e.valueComparator(l,o.value)))),l?l.modelValue.value=r:t.value=r}}),{textColorClasses:r,textColorStyles:u}=N(h((()=>!n.value||e.error||e.disabled?void 0:e.color))),c=h((()=>{var a,t;return n.value?null!=(a=null==l?void 0:l.onIcon.value)?a:e.onIcon:null!=(t=null==l?void 0:l.offIcon.value)?t:e.offIcon}));return{group:l,densityClasses:a,trueValue:o,falseValue:s,model:n,textColorClasses:r,textColorStyles:u,icon:c}}(e),d=f(),v=h((()=>e.id||`input-${d}`)),m=k(!1),y=k(!1),S=k();function T(e){m.value=!0,(!H||H&&e.target.matches(":focus-visible"))&&(y.value=!0)}function w(){m.value=!1,y.value=!1}return g((()=>{var l,d,p,f;const h=t.label?t.label({label:e.label,props:{for:v.value}}):e.label,g=null!=(l=null==s?void 0:s.type.value)?l:e.type;return b("div",{class:["v-selection-control",{"v-selection-control--dirty":n.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":m.value,"v-selection-control--focus-visible":y.value,"v-selection-control--inline":(null==s?void 0:s.inline.value)||e.inline},o.value,r.value]},[b("div",{class:"v-selection-control__wrapper"},[null==(d=t.default)?void 0:d.call(t),B(b("div",{class:["v-selection-control__input"],style:u.value},[i.value&&b(_,{icon:i.value},null,8,["icon"]),B(b("input",O({"onUpdate:modelValue":e=>n.value=e,ref:S,disabled:e.disabled,id:v.value,onBlur:w,onFocus:T,readonly:e.readonly,type:g,value:c.value,name:null!=(p=null==s?void 0:s.name.value)?p:e.name,"aria-checked":"checkbox"===g?n.value:void 0},a),null,16,["onUpdate:modelValue","disabled","id","onBlur","onFocus","readonly","type","value","name","aria-checked"]),[[U,n.value]]),null==(f=t.input)?void 0:f.call(t,{model:n,textColorClasses:r,props:{onFocus:T,onBlur:w,id:v.value}})],4),[[x("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),b(I,{disabled:e.disabled,error:e.error,for:v.value},{default:()=>[h],_:2},8,["disabled","error","for"])],2)})),{isFocused:m,input:S}}}),q=v({name:"VSwitch",inheritAttrs:!1,props:{indeterminate:Boolean,inset:Boolean,loading:[Boolean,String],flat:Boolean},emits:{"update:indeterminate":e=>!0},setup(e,t){let{attrs:o,slots:s}=t;const i=p(e,"indeterminate");function r(){i.value&&(i.value=!1)}return g((()=>{const[e,t]=A(o),[u,c]=D(t),d=k();function v(){var e,l;null==(e=d.value)||null==(l=e.input)||l.click()}return b(E,O({class:["v-switch",{"v-switch--indeterminate":i.value}]},e,u),(p=n({},s),l(p,a({default:e=>{let{isDisabled:l,isReadonly:a}=e;return b(Z,O({type:"checkbox",disabled:l.value,readonly:a.value,"onUpdate:modelValue":r,"aria-checked":i.value?"mixed":void 0,ref:d},c),{default:()=>b("div",{class:"v-switch__track",onClick:v},null,8,["onClick"]),input:e=>{let{textColorClasses:l}=e;return b("div",{class:["v-switch__thumb",l.value]},null,2)}},16,["disabled","readonly","onUpdate:modelValue","aria-checked"])}}))),16,["class"]);var p})),{}}}),ee=Q();P("data-v-5816c1cc");const le={id:"home"},ae={class:"row"},te=b("h3",null,"種族",-1),oe={class:"tags"},se={class:"row"},ie=b("h3",null,"兵種",-1),ne={class:"tags"},re={class:"row"},ue=b("h3",null,"其他標籤",-1),ce={class:"tags"},de={class:"row p mt"},ve=b("span",null,"清空所有標籤 (快捷鍵可按esc)",-1),pe=b("span",null,"收藏模式",-1),fe={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},he=b("path",{d:"M12 9.229c.234-1.12 1.547-6.229 5.382-6.229 2.22 0 4.618 1.551 4.618 5.003 0 3.907-3.627 8.47-10 12.629-6.373-4.159-10-8.722-10-12.629 0-3.484 2.369-5.005 4.577-5.005 3.923 0 5.145 5.126 5.423 6.231zm-12-1.226c0 4.068 3.06 9.481 12 14.997 8.94-5.516 12-10.929 12-14.997 0-7.962-9.648-9.028-12-3.737-2.338-5.262-12-4.27-12 3.737z"},null,-1),me=b("path",{d:"M12 4.435c-1.989-5.399-12-4.597-12 3.568 0 4.068 3.06 9.481 12 14.997 8.94-5.516 12-10.929 12-14.997 0-8.118-10-8.999-12-3.568z"},null,-1),ye=b("span",null,"清空所有收藏",-1),ge={class:"row"};z();const be=ee(((e,l,a,t,o,s)=>{const i=W("tag"),n=W("heroCard");return L(),$("div",le,[b("div",ae,[b(M,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:ee((()=>[te,b("div",oe,[b(i,{datas:o.race},null,8,["datas"])])])),_:1})]),b("div",se,[b(M,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:ee((()=>[ie,b("div",ne,[b(i,{datas:o.armyType},null,8,["datas"])])])),_:1})]),b("div",re,[b(M,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:ee((()=>[ue,b("div",ce,[b(i,{datas:o.tag},null,8,["datas"])])])),_:1})]),b("div",de,[b(R,{onClick:l[2]||(l[2]=e=>s.handleUnion())},{default:ee((()=>[b(q,{modelValue:o.isUnion,"onUpdate:modelValue":l[1]||(l[1]=e=>o.isUnion=e),label:s.unionLabel,inset:""},null,8,["modelValue","label"])])),_:1}),b(R,{onClick:l[3]||(l[3]=e=>s.clearSelectTag())},{default:ee((()=>[ve])),_:1}),b(R,{class:"favorite",onClick:l[4]||(l[4]=e=>s.changeFavoriteType())},{default:ee((()=>[pe,0==o.favoriteType?(L(),$("svg",fe,[he])):(L(),$("svg",{key:1,class:"favoriteTpye"+o.favoriteType,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[me],2))])),_:1}),b(R,{class:"favorite",onClick:l[5]||(l[5]=e=>s.clearFavorite())},{default:ee((()=>[ye])),_:1})]),b("div",ge,[b(M,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:ee((()=>[(L(!0),$(G,null,K(o.selectHeros,(e=>(L(),$(n,{data:e,favoriteTpye:o.favoriteType,showHeart:!0},null,8,["data","favoriteTpye"])))),256))])),_:1})])])}));const Se={data:()=>({heros:[],selectHeros:[],armyType:[],race:[],tag:[],favoriteType:0,isUnion:!1}),computed:{selectTags(){let e=this.race.filter((e=>e.active)),l=this.armyType.filter((e=>e.active)),a=this.tag.filter((e=>e.active)),t=e.concat(l);return t=t.concat(a),t},unionLabel(){return this.isUnion?"聯集模式 (or:只要符合任一個條件)":"交集模式 (and:需要符合所有條件)"}},methods:{getData(){if(0==this.selectTags.length)this.selectHeros=this.heros;else{let e=r,l=[];this.selectTags.map((a=>{this.isUnion||(l=[]),e.map((e=>{if("tag"==a.type){if(e.tag.includes(a.title)){l.find((l=>e==l))||l.push(e)}}else if(a.title==e[a.type]){l.find((l=>e==l))||l.push(e)}})),this.isUnion||(e=l)})),this.isUnion?this.selectHeros=l:this.selectHeros=e}},selectTag(e,l){this.selectTags.push(l),e.find((e=>l==e))&&e.splice(e.indexOf(l),1)},tagSelectBack(e,l){switch(e.type){case"armyType":this.armyType.push(e);break;case"race":this.race.push(e);break;case"tag":this.tag.push(e)}this.selectTags.splice(l,1)},clearSelectTag(){this.tag.forEach((e=>{e.active=!1})),this.race.forEach((e=>{e.active=!1})),this.armyType.forEach((e=>{e.active=!1}))},changeFavoriteType(){this.favoriteType++,this.favoriteType>3&&(this.favoriteType=0)},clearFavorite(){this.favoriteType=0,this.$store.commit("clearFavorite")},handleUnion(){this.isUnion=!this.isUnion,this.getData()}},mounted(){this.heros=JSON.parse(JSON.stringify(r)),this.armyType=JSON.parse(JSON.stringify(c)),this.race=JSON.parse(JSON.stringify(d)),this.tag=JSON.parse(JSON.stringify(u)),this.selectHeros=this.heros;let e=this;document.onkeydown=function(l){"Escape"==l.key&&e.clearSelectTag()}},watch:{selectTags:{handler:function(){this.getData()},deep:!0}}};Se.render=be,Se.__scopeId="data-v-5816c1cc";export{Se as default};
