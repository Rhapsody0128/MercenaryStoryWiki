import{h as e}from"./index.3621378f.js";import{a,r as t,t as s}from"./index.6ac5bf59.js";import{p as i,n as l,o as r,c,a as o,x as h,e as n,F as d,q as p,v as f,r as g}from"./vendor.50863817.js";const v=f();i("data-v-74a7ffd2");const u={id:"home"},y={class:"row"},m=o("h3",null,"種族",-1),T={class:"tags"},w={class:"row"},S=o("h3",null,"兵種",-1),k={class:"tags"},x={class:"row"},O=o("h3",null,"其他標籤",-1),_={class:"tags"},J={class:"row p mt"},N=o("span",null,"清空所有標籤 (快捷鍵可按esc)",-1),b=o("span",null,"收藏模式",-1),F={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},H=o("path",{d:"M12 9.229c.234-1.12 1.547-6.229 5.382-6.229 2.22 0 4.618 1.551 4.618 5.003 0 3.907-3.627 8.47-10 12.629-6.373-4.159-10-8.722-10-12.629 0-3.484 2.369-5.005 4.577-5.005 3.923 0 5.145 5.126 5.423 6.231zm-12-1.226c0 4.068 3.06 9.481 12 14.997 8.94-5.516 12-10.929 12-14.997 0-7.962-9.648-9.028-12-3.737-2.338-5.262-12-4.27-12 3.737z"},null,-1),C=o("path",{d:"M12 4.435c-1.989-5.399-12-4.597-12 3.568 0 4.068 3.06 9.481 12 14.997 8.94-5.516 12-10.929 12-14.997 0-8.118-10-8.999-12-3.568z"},null,-1),E=o("span",null,"清空所有收藏",-1),j={class:"row"};l();const z=v(((e,a,t,s,i,l)=>{const f=g("tag"),z=g("heroCard");return r(),c("div",u,[o("div",y,[o(h,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:v((()=>[m,o("div",T,[o(f,{datas:i.race},null,8,["datas"])])])),_:1})]),o("div",w,[o(h,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:v((()=>[S,o("div",k,[o(f,{datas:i.armyType},null,8,["datas"])])])),_:1})]),o("div",x,[o(h,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:v((()=>[O,o("div",_,[o(f,{datas:i.tag},null,8,["datas"])])])),_:1})]),o("div",J,[o(n,{onClick:a[1]||(a[1]=e=>l.clearSelectTag())},{default:v((()=>[N])),_:1}),o(n,{class:"favorite",onClick:a[2]||(a[2]=e=>l.changeFavoriteType())},{default:v((()=>[b,0==i.favoriteType?(r(),c("svg",F,[H])):(r(),c("svg",{key:1,class:"favoriteTpye"+i.favoriteType,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[C],2))])),_:1}),o(n,{class:"favorite",onClick:a[3]||(a[3]=e=>l.clearFavorite())},{default:v((()=>[E])),_:1})]),o("div",j,[o(h,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:v((()=>[(r(!0),c(d,null,p(i.selectHeros,(e=>(r(),c(z,{data:e,favoriteTpye:i.favoriteType,showHeart:!0},null,8,["data","favoriteTpye"])))),256))])),_:1})])])}));const B={data:()=>({heros:[],selectHeros:[],armyType:[],race:[],tag:[],favoriteType:0}),computed:{selectTags(){let e=this.race.filter((e=>e.active)),a=this.armyType.filter((e=>e.active)),t=this.tag.filter((e=>e.active)),s=e.concat(a);return s=s.concat(t),s}},methods:{getData(){if(0==this.selectTags.length)this.selectHeros=this.heros;else{let a=e;this.selectTags.map((e=>{let t=[];a.map((s=>{if("tag"==e.type){if(s.tag.includes(e.title)){t.find((e=>s==e))||t.push(s)}}else if(e.title==s[e.type]){t.find((e=>s==e))||t.push(s)}a=t}))})),this.selectHeros=a}},selectTag(e,a){this.selectTags.push(a),e.find((e=>a==e))&&e.splice(e.indexOf(a),1)},tagSelectBack(e,a){switch(e.type){case"armyType":this.armyType.push(e);break;case"race":this.race.push(e);break;case"tag":this.tag.push(e)}this.selectTags.splice(a,1)},clearSelectTag(){this.tag.forEach((e=>{e.active=!1})),this.race.forEach((e=>{e.active=!1})),this.armyType.forEach((e=>{e.active=!1}))},changeFavoriteType(){this.favoriteType++,this.favoriteType>3&&(this.favoriteType=0)},clearFavorite(){this.favoriteType=0,this.$store.commit("clearFavorite")}},mounted(){this.heros=JSON.parse(JSON.stringify(e)),this.armyType=JSON.parse(JSON.stringify(a)),this.race=JSON.parse(JSON.stringify(t)),this.tag=JSON.parse(JSON.stringify(s)),this.selectHeros=this.heros;let i=this;document.onkeydown=function(e){"Escape"==e.key&&i.clearSelectTag()}},watch:{selectTags:{handler:function(){this.getData()},deep:!0}}};B.render=z,B.__scopeId="data-v-74a7ffd2";export{B as default};
