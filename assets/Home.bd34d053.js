import{h as e,a,r as s,t}from"./index.0d2544aa.js";import{p as l,m as c,o as i,c as r,a as d,u as o,e as n,F as g,x as h,q as u,r as p}from"./vendor.6f83b36b.js";const y=u();l("data-v-73c74e87");const m={id:"home"},T={class:"row"},k=d("h3",null,"目前篩選 ( 按下esc能快清除篩選 )",-1),f={class:"tags"},v={key:0,class:"tag"},b=d("span",null,"全部",-1),C={key:1,class:"tag"},w=d("span",null,"清除全部",-1),_={class:"line"},H={class:"row"},S=d("h3",null,"種族",-1),x={class:"tags"},j={class:"row"},B=d("h3",null,"兵種",-1),D={class:"tags"},q={class:"row"},E=d("h3",null,"其他標籤",-1),F={class:"tags"},I={class:"row"};c();const O=y(((e,a,s,t,l,c)=>{const u=p("tag"),O=p("heroCard");return i(),r("div",m,[d("div",T,[d(o,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:y((()=>[k,d("div",f,[0==l.selectTags.length?(i(),r("div",v,[d(n,{rounded:"pill",disabled:""},{default:y((()=>[b])),_:1})])):(i(),r("div",C,[d(n,{rounded:"pill",onClick:a[1]||(a[1]=e=>c.clearSelectTag())},{default:y((()=>[w])),_:1})])),(i(!0),r(g,null,h(l.selectTags,((e,a)=>(i(),r(u,{data:e,key:e.title,onClick:s=>c.tagSelectBack(e,a)},null,8,["data","onClick"])))),128))])])),_:1})]),d("div",_,[d("div",H,[d(o,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:y((()=>[S,d("div",x,[(i(!0),r(g,null,h(l.race,((e,a)=>(i(),r(u,{data:e,key:e.title,onClick:a=>c.selectTag(l.race,e)},null,8,["data","onClick"])))),128))])])),_:1})]),d("div",j,[d(o,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:y((()=>[B,d("div",D,[(i(!0),r(g,null,h(l.armyType,((e,a)=>(i(),r(u,{data:e,key:e.title,onClick:a=>c.selectTag(l.armyType,e)},null,8,["data","onClick"])))),128))])])),_:1})])]),d("div",q,[d(o,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:y((()=>[E,d("div",F,[(i(!0),r(g,null,h(l.tag,(e=>(i(),r(u,{data:e,onClick:a=>c.selectTag(l.tag,e)},null,8,["data","onClick"])))),256))])])),_:1})]),d("div",I,[d(o,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:y((()=>[(i(!0),r(g,null,h(l.selectHeros,(e=>(i(),r(O,{data:e},null,8,["data"])))),256))])),_:1})])])}));const z={data:()=>({heros:[],selectHeros:[],armyType:[],race:[],tag:[],selectTags:[]}),methods:{getData(){if(0==this.selectTags.length)this.selectHeros=this.heros;else{let a=e;this.selectTags.map((e=>{let s=[];a.map((t=>{if("tag"==e.type){if(t.tag.includes(e.title)){s.find((e=>t==e))||s.push(t)}}else if(e.title==t[e.type]){s.find((e=>t==e))||s.push(t)}a=s}))})),this.selectHeros=a}},selectTag(e,a){this.selectTags.push(a),e.find((e=>a==e))&&e.splice(e.indexOf(a),1)},tagSelectBack(e,a){switch(e.type){case"armyType":this.armyType.push(e);break;case"race":this.race.push(e);break;case"tag":this.tag.push(e)}this.selectTags.splice(a,1)},clearSelectTag(){this.selectTags.map((e=>{switch(e.type){case"armyType":this.armyType.push(e);break;case"race":this.race.push(e);break;case"tag":this.tag.push(e)}})),this.selectTags=[]}},mounted(){this.heros=e,this.armyType=a,this.race=s,this.tag=t,this.selectHeros=this.heros;let l=this;document.onkeydown=function(e){"Escape"==e.key&&l.clearSelectTag()}},watch:{selectTags:{handler:function(){this.getData()},deep:!0}}};z.render=O,z.__scopeId="data-v-73c74e87";export{z as default};
