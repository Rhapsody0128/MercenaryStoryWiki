import{a as e,r as a}from"./index.eae7ac6e.js";import{a as t}from"./index.d470f35c.js";import{a as s}from"./armyTagList.e863cbe0.js";import{p as i,m as r,o as l,c,a as o,v as h,e as n,F as d,n as p,u as g,r as v}from"./vendor.02a84c76.js";const f=g();i("data-v-43483a78");const y={id:"home"},u={class:"row"},m=o("h3",null,"種族",-1),T={class:"tags"},w={class:"row"},S=o("h3",null,"兵種",-1),k={class:"tags"},O={class:"row"},_=o("h3",null,"其他標籤",-1),x={class:"tags"},J={class:"row p mt"},N=o("span",null,"清空所有標籤 (快捷鍵可按esc)",-1),b=o("span",null,"收藏模式",-1),F={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},H=o("path",{d:"M12 9.229c.234-1.12 1.547-6.229 5.382-6.229 2.22 0 4.618 1.551 4.618 5.003 0 3.907-3.627 8.47-10 12.629-6.373-4.159-10-8.722-10-12.629 0-3.484 2.369-5.005 4.577-5.005 3.923 0 5.145 5.126 5.423 6.231zm-12-1.226c0 4.068 3.06 9.481 12 14.997 8.94-5.516 12-10.929 12-14.997 0-7.962-9.648-9.028-12-3.737-2.338-5.262-12-4.27-12 3.737z"},null,-1),j=o("path",{d:"M12 4.435c-1.989-5.399-12-4.597-12 3.568 0 4.068 3.06 9.481 12 14.997 8.94-5.516 12-10.929 12-14.997 0-8.118-10-8.999-12-3.568z"},null,-1),C=o("span",null,"清空所有收藏",-1),E={class:"row"};r();const z=f(((e,a,t,s,i,r)=>{const g=v("tag"),z=v("soldierCard");return l(),c("div",y,[o("div",u,[o(h,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:f((()=>[m,o("div",T,[o(g,{datas:i.race},null,8,["datas"])])])),_:1})]),o("div",w,[o(h,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:f((()=>[S,o("div",k,[o(g,{datas:i.armyType},null,8,["datas"])])])),_:1})]),o("div",O,[o(h,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:f((()=>[_,o("div",x,[o(g,{datas:i.tag},null,8,["datas"])])])),_:1})]),o("div",J,[o(n,{onClick:a[1]||(a[1]=e=>r.clearSelectTag())},{default:f((()=>[N])),_:1}),o(n,{class:"favorite",onClick:a[2]||(a[2]=e=>r.changeFavoriteType())},{default:f((()=>[b,0==i.favoriteType?(l(),c("svg",F,[H])):(l(),c("svg",{key:1,class:"favoriteTpye"+i.favoriteType,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[j],2))])),_:1}),o(n,{class:"favorite",onClick:a[3]||(a[3]=e=>r.clearFavoriteArmy())},{default:f((()=>[C])),_:1})]),o("div",E,[o(h,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:f((()=>[(l(!0),c(d,null,p(i.selectHeros,(e=>(l(),c(z,{data:e,favoriteTpye:i.favoriteType,showHeart:!0},null,8,["data","favoriteTpye"])))),256))])),_:1})])])}));const A={data:()=>({heros:[],selectHeros:[],armyType:[],race:[],tag:[],favoriteType:0}),computed:{selectTags(){let e=this.race.filter((e=>e.active)),a=this.armyType.filter((e=>e.active)),t=this.tag.filter((e=>e.active)),s=e.concat(a);return s=s.concat(t),s}},methods:{getData(){if(0==this.selectTags.length)this.selectHeros=this.heros;else{let e=t;this.selectTags.map((a=>{let t=[];e.map((s=>{if("tag"==a.type){if(s.tag.includes(a.title)){t.find((e=>s==e))||t.push(s)}}else if(a.title==s[a.type]){t.find((e=>s==e))||t.push(s)}e=t}))})),this.selectHeros=e}},selectTag(e,a){this.selectTags.push(a),e.find((e=>a==e))&&e.splice(e.indexOf(a),1)},tagSelectBack(e,a){switch(e.type){case"armyType":this.armyType.push(e);break;case"race":this.race.push(e);break;case"tag":this.tag.push(e)}this.selectTags.splice(a,1)},clearSelectTag(){this.tag.forEach((e=>{e.active=!1})),this.race.forEach((e=>{e.active=!1})),this.armyType.forEach((e=>{e.active=!1}))},changeFavoriteType(){this.favoriteType++,this.favoriteType>3&&(this.favoriteType=0)},clearFavoriteArmy(){this.favoriteType=0,this.$store.commit("clearFavoriteArmy")}},mounted(){this.heros=JSON.parse(JSON.stringify(t)),this.armyType=JSON.parse(JSON.stringify(e)),this.race=JSON.parse(JSON.stringify(a)),this.tag=JSON.parse(JSON.stringify(s)),this.selectHeros=this.heros;let i=this;document.onkeydown=function(e){"Escape"==e.key&&i.clearSelectTag()}},watch:{selectTags:{handler:function(){this.getData()},deep:!0}}};A.render=z,A.__scopeId="data-v-43483a78";export{A as default};
