import{h as a,a as s,r as e,t}from"./index.3cdacf13.js";import{p as l,m as c,o as i,c as r,a as o,v as d,e as h,F as n,s as g,q as p,h as f,r as u}from"./vendor.ba703df9.js";const m=p();l("data-v-ab64f41a");const v={id:"home"},y={class:"row"},T=o("h3",null,"種族",-1),S={class:"tags"},b={class:"row"},O=o("h3",null,"兵種",-1),w={class:"tags"},J={class:"row"},N=o("h3",null,"其他標籤",-1),_={class:"tags"},k={class:"row p mt"},H=f("清空所有標籤 (快捷鍵可按esc)"),E={class:"row"};c();const x=m(((a,s,e,t,l,c)=>{const p=u("tag"),f=u("heroCard");return i(),r("div",v,[o("div",y,[o(d,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:m((()=>[T,o("div",S,[o(p,{datas:l.race},null,8,["datas"])])])),_:1})]),o("div",b,[o(d,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:m((()=>[O,o("div",w,[o(p,{datas:l.armyType},null,8,["datas"])])])),_:1})]),o("div",J,[o(d,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:m((()=>[N,o("div",_,[o(p,{datas:l.tag},null,8,["datas"])])])),_:1})]),o("div",k,[o(h,{onClick:s[1]||(s[1]=a=>c.clearSelectTag())},{default:m((()=>[H])),_:1})]),o("div",E,[o(d,{class:"p mt rounded-lg",elevation:"3",color:"rgba(0,0,0,0)"},{default:m((()=>[(i(!0),r(n,null,g(l.selectHeros,(a=>(i(),r(f,{data:a},null,8,["data"])))),256))])),_:1})])])}));const j={data:()=>({heros:[],selectHeros:[],armyType:[],race:[],tag:[]}),computed:{selectTags(){let a=this.race.filter((a=>a.active)),s=this.armyType.filter((a=>a.active)),e=this.tag.filter((a=>a.active)),t=a.concat(s);return t=t.concat(e),t}},methods:{getData(){if(0==this.selectTags.length)this.selectHeros=this.heros;else{let s=a;this.selectTags.map((a=>{let e=[];s.map((t=>{if("tag"==a.type){if(t.tag.includes(a.title)){e.find((a=>t==a))||e.push(t)}}else if(a.title==t[a.type]){e.find((a=>t==a))||e.push(t)}s=e}))})),this.selectHeros=s}},selectTag(a,s){this.selectTags.push(s),a.find((a=>s==a))&&a.splice(a.indexOf(s),1)},tagSelectBack(a,s){switch(a.type){case"armyType":this.armyType.push(a);break;case"race":this.race.push(a);break;case"tag":this.tag.push(a)}this.selectTags.splice(s,1)},clearSelectTag(){this.tag.forEach((a=>{a.active=!1})),this.race.forEach((a=>{a.active=!1})),this.armyType.forEach((a=>{a.active=!1}))}},mounted(){this.heros=JSON.parse(JSON.stringify(a)),this.armyType=JSON.parse(JSON.stringify(s)),this.race=JSON.parse(JSON.stringify(e)),this.tag=JSON.parse(JSON.stringify(t)),this.selectHeros=this.heros;let l=this;document.onkeydown=function(a){"Escape"==a.key&&l.clearSelectTag()}},watch:{selectTags:{handler:function(){console.log(this.selectTags),this.getData()},deep:!0}}};j.render=x,j.__scopeId="data-v-ab64f41a";export{j as default};
